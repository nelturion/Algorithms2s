# Алхимия

## Логика работы алгоритма

Алгоритм решает задачу нахождения минимального числа алхимических реакций для преобразования исходного вещества в
требуемое, используя метод поиска в ширину (BFS). Основные этапы алгоритма:

1. **Предварительная обработка данных:**
    - Чтение входных данных с использованием функции `read_data`, которая получает число реакций, список строк с
      описаниями реакций, начальное и требуемое вещество.
    - Валидация входных данных с помощью функции `validate_data`, чтобы убедиться, что формат данных соответствует
      ожиданиям (например, каждая строка имеет формат `"вещество1 -> вещество2"`).

2. **Построение графа реакций:**
    - Используется словарь (`defaultdict(list)`), где ключ — исходное вещество, а значение — список веществ, в которые
      оно может преобразовываться.

3. **Поиск кратчайшего пути:**
    - Реализован алгоритм BFS, который стартует от исходного вещества.
    - Для каждого вещества, найденного в процессе поиска, сохраняется расстояние (количество реакций) от исходного.
    - Если целевое вещество найдено, возвращается соответствующее расстояние (минимальное число реакций).
    - Если поиск завершился без нахождения целевого вещества, функция возвращает `-1`.

4. **Запись результата:**
    - Результат записывается в выходной файл с помощью функции `write_data`.

## Оценка по времени и памяти

- **Время:**  
  Алгоритм использует BFS, который имеет временную сложность O(V + E), где V — количество веществ (вершин), а E —
  количество реакций (ребер)

- **Память:**  
  Используются структуры данных для хранения графа и очереди BFS, что требует памяти O(V + E)

## Ответы на вопросы

1. **Как алгоритм будет справляться с различными форматами ввода, если они могут варьироваться в зависимости от
   источника данных?**
    - В решении обработка ввода вынесена в отдельную функцию `read_data`, которая отвечает за парсинг данных из файла.
      Для обеспечения устойчивости к возможным вариациям формата ввода (например, дополнительные пробелы или различия в
      разделителях) можно расширить логику этой функции, добавив нормализацию и предварительную проверку строк.
      Дополнительно, функция `validate_data` служит для проверки корректности полученных данных, что позволяет
      обнаружить и обработать ошибки ввода на раннем этапе.


2. **Как будет реализована возможность восстановления последовательности реакций, приведших к получению целевого
   вещества, если оно возможно?**
    - Для восстановления последовательности можно модифицировать алгоритм BFS, добавив хранение предшествующих веществ
      для каждого достигнутого вещества. Вместо хранения только расстояния (количества реакций), можно использовать
      словарь `previous`, где для каждого вещества сохраняется вещество, из которого оно было получено. После нахождения
      целевого вещества можно будет пройти по этому словарю от целевого вещества к исходному, восстановив
      последовательность реакций в обратном порядке.


3. **Какие тестовые случаи будут разработаны для проверки корректности алгоритма?**  
   При разработке тестовых случаев стоит учесть следующие сценарии:
    - **Базовый случай:** Прямое преобразование, когда одна реакция напрямую переводит исходное вещество в требуемое.
    - **Отсутствие реакций:** Проверка ситуации, когда список реакций пуст или не содержит пути между веществами.
    - **Несуществующий путь:** Сценарий, когда требуемое вещество недостижимо из исходного, что должно привести к ответу
      `-1`.
    - **Несколько путей:** Наличие нескольких маршрутов с разной длиной, где алгоритм должен выбрать кратчайший.
    - **Циклические зависимости:** Ситуации, где реакции образуют цикл, и алгоритм должен корректно обрабатывать такие
      случаи, не зацикливаясь.